<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistem Verifikasi Hayabusa</title>
    <script src="https://openfpcdn.io/fingerprintjs/v4"></script>
    <style>
        body { background-color: #121212; color: #00ff00; font-family: 'Courier New', monospace; text-align: center; padding: 50px 20px; }
        .box { border: 2px solid #00ff00; border-radius: 10px; padding: 30px; max-width: 400px; margin: 0 auto; box-shadow: 0 0 20px #00ff00; }
        .btn { background: #00ff00; color: black; padding: 15px 30px; border: none; font-weight: bold; cursor: pointer; margin-top: 20px; width: 100%; }
        .loader { display: none; margin-top: 20px; }
    </style>
</head>
<body>
    <div class="box">
        <h2>üõ°Ô∏è SECURITY CHECK</h2>
        <p>Verifikasi identitas perangkat diperlukan untuk akses grup ini.</p>
        <div id="ui">
            <button class="btn" onclick="verify()">KONFIRMASI PERANGKAT</button>
        </div>
        <div id="loader" class="loader">
            <p>Scanning Hardware ID...</p>
            <p id="progress">[..........]</p>
        </div>
    </div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const userId = urlParams.get('userid');
        const chatId = urlParams.get('chatid');

        function verify() {
            document.getElementById('ui').style.display = 'none';
            document.getElementById('loader').style.display = 'block';
            
            FingerprintJS.load().then(fp => fp.get()).then(result => {
                const deviceId = result.visitorId;
                const botToken = "8373626378:AAHmCRe_FCCDug1yrlsnat6WFhi71Qf6lQI";

                // Kirim perintah rahasia ke bot
                fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=/process_verif ${userId} ${deviceId}`)
                .then(() => {
                    let p = 0;
                    let interval = setInterval(() => {
                        p += 10;
                        document.getElementById('progress').innerText = "[" + "#".repeat(p/10) + ".".repeat(10-p/10) + "]";
                        if(p >= 100) {
                            clearInterval(interval);
                            document.body.innerHTML = "<h1>‚úÖ VERIFIKASI BERHASIL</h1><p>Silakan kembali ke Telegram.</p>";
                        }
                    }, 200);
                });
            });
        }
    </script>
</body>
</html>
