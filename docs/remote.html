<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Remote HP Anak</title>
<script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
<style>
body{background:#121212;color:#fff;font-family:sans-serif;text-align:center;padding:20px}
.card{background:#1e1e1e;padding:18px;border-radius:14px;margin-bottom:15px}
input,button{width:100%;padding:14px;margin-top:10px;border-radius:10px;font-size:15px}
.b1{background:#3498db;color:#fff;border:0}
.b2{background:#f1c40f;color:#000;border:0}
.b3{background:#e74c3c;color:#fff;border:0}
img{max-width:100%;border-radius:10px}
</style>
</head>
<body>

<h3>ğŸ“± DASHBOARD HP ANAK</h3>

<div class="card">
  <input id="id" placeholder="ID Anak">
  <input id="pin" placeholder="PIN" type="password">
  <button class="b1" onclick="hubungkan()">HUBUNGKAN</button>
</div>

<div class="card">
  <p id="battery">ğŸª« --%</p>
  <p id="network">ğŸ“¶ --</p>
</div>

<div class="card">
  <button class="b2" onclick="kirim('FOTO')">ğŸ“¸ FOTO</button>
  <button class="b2" onclick="kirim('LOKASI')">ğŸ“ LOKASI</button>
  <button class="b3" onclick="kirim('PUTUS')">â›” PUTUSKAN</button>
</div>

<div class="card" id="hasil" style="display:none"></div>

<script>
let peer=new Peer(), conn;
let PID="", PIN="";

function hubungkan(){
  PID=id.value.trim(); PIN=pin.value.trim();
  if(!PID||!PIN){ alert("ID & PIN"); return; }

  conn=peer.connect(PID);
  conn.on("open",()=>alert("Terhubung âœ…"));
  conn.on("data",(d)=>{
    hasil.style.display="block";
    if(d.type==="FOTO") hasil.innerHTML=`<img src="${d.data}">`;
    if(d.type==="LOKASI") hasil.innerHTML=
      `<a target="_blank" style="color:#3498db"
      href="https://maps.google.com?q=${d.lat},${d.lon}">Buka Maps</a>`;
    if(d.type==="BATTERY")
      battery.innerText=`ğŸª« ${d.level}% ${d.charging?"âš¡":""}`;
    if(d.type==="NETWORK")
      network.innerText=`ğŸ“¶ ${d.online?"Online":"Offline"} (${d.type})`;
  });
}

function kirim(cmd){
  if(conn&&conn.open) conn.send({cmd:cmd,pin:PIN});
}
</script>

</body>
</html>
